!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=Core},function(e,t,n){var r=n(12);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){var r=n(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(12),a=n(13);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=PropTypes},function(e,t){e.exports=React},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(n(22)).default)({CALENDAR_SECTION_TITLE_RENDERED:null,CALENDAR_SECTION_INTRO_RENDERED:null,CALENDAR_RENDERED:null,CALENDAR_SMALLER_SCREEN_CONTAINER:null,CALENDAR_BIGGER_SCREEN_CONTAINER:null,CALENDAR_EVENT_DAY:null,CALENDAR_EVENT_DATE:null,CALENDAR_EVENT_TIME:null,CALENDAR_DESC:null,CALENDAR_DESC_BEGINNING:null,CALENDAR_DESC_ELIPSIS:null,CALENDAR_DESC_EXPAND:null,CALENDAR_DESC_TEXT:null,CALENDAR_SHOW_NEXT_EVENTS:null,CALENDAR_SHOW_PREV_EVENTS:null,CALENDAR_EVENT_NAVIGATION:null,CALENDAR_NO_EVENT_MSG:null});t.default=a,e.exports=t.default},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(12)),l=r(n(1)),o=r(n(2)),u=n(15),i=function(){function e(t){(0,l.default)(this,e),"object"===(0,a.default)(t)?this.date=t:this.date="string"==typeof t?new Date(t):new Date}return(0,o.default)(e,[{key:"locale",value:function(e){this._locale=e}},{key:"get",value:function(e){var t=this,n={day:this.date.getDate.bind(this.date),month:this.date.getMonth.bind(this.date),year:this.date.getFullYear.bind(this.date),hour:this.date.getHours.bind(this.date),minute:this.date.getMinutes.bind(this.date),second:this.date.getSeconds.bind(this.date),timeZoneOffset:function(){return t._timeZoneOffset}};return-1===(0,u.keys)(n).indexOf(e)?null:n[e]()}},{key:"set",value:function(e,t){var n=this,r={day:this.date.setDate.bind(this.date),month:this.date.setMonth.bind(this.date),year:this.date.setFullYear.bind(this.date),hour:this.date.setHours.bind(this.date),minute:this.date.setMinutes.bind(this.date),second:this.date.setSeconds.bind(this.date),timeZoneOffset:function(e){n._timeZoneOffset=e}};return-1===(0,u.keys)(r).indexOf(e)?null:(r[e](t),this)}},{key:"isSame",value:function(e,t){return e.get(t)===this.get(t)}},{key:"toLocaleString",value:function(t,n){var r=n||this._locale||e._locale||"en-US",a={},l=new Date,o=this.date.getTime()+6e4*this.date.getTimezoneOffset()+6e4*(this._timeZoneOffset||0);l.setTime(o);(t&e.WEEKDAY)>0&&(a.weekday="short"),(t&e.YEAR)>0&&(a.year="numeric"),(t&e.MONTH)>0&&(a.month="short"),((t&e.DAY)>0||(t&e.DAY_ORDINAL)>0)&&(a.day="numeric"),(t&e.HOUR)>0&&(a.hour="numeric"),(t&e.MINUTE)>0&&(a.minute="numeric"),(t&e.SECOND)>0&&(a.second="numeric");var u=function(){var n="";if((t&e.DAY_ORDINAL)>0&&"en"===r.split("-")[0]){var a=l.toLocaleString(r,{day:"numeric"}),o=/\d+/.exec(a);if(o){var u=parseInt(o[0],10);n="th",-1!==[1,21,31].indexOf(u)&&(n="st"),-1!==[2,22].indexOf(u)&&(n="nd"),-1!==[3,23].indexOf(u)&&(n="rd")}}return n}(),i=l.toLocaleString(r,a),s=/\d+/.exec(i);return u&&s?i.replace(s[0],"".concat(s[0]).concat(u)):i}},{key:"toISOString",value:function(){return this.date.toISOString()}}],[{key:"locale",value:function(t){e._locale=t}}]),e}();t.default=i,i.WEEKDAY=1,i.YEAR=16,i.MONTH=256,i.DAY=4096,i.HOUR=65536,i.MINUTE=1048576,i.SECOND=16777216,i.DAY_ORDINAL=268435456,i._locale="",e.exports=t.default},function(e,t){e.exports=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){var t=/[-+]{1}(\d{2}):(\d{2})$/.exec(e);return t?(t[0].startsWith("+")?1:-1)*(60*parseInt(t[1],10)+parseInt(t[2],10)):/Z$/.test(e)?0:-1*new Date(e).getTimezoneOffset()};t.default=r,e.exports=t.default},function(e,t,n){"use strict";window.wsb=window.wsb||{},window.wsb.Calendar=n(18)},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(1)),o=a(n(2)),u=a(n(5)),i=a(n(6)),s=a(n(7)),d=a(n(8)),c=r(n(9)),f=n(3),p=a(n(20)),E=a(n(30)),h=a(n(35)),v=a(n(36)),m=n(37);function y(e){return function(){var t,n=(0,s.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,i.default)(this,t)}}var g=f.utils.postRender,_=g.Actions,R=g.monitor,b=g.onWidgetRendered,N="https://calendar.google.com/calendar/ical/wsb.vnext%40gmail.com/public/basic.ics",C=function(e){(0,u.default)(n,e);var t=y(n);function n(e){var r;return(0,l.default)(this,n),(r=t.call(this,e)).regex=new RegExp(h.default,"i"),r.state={linkedEvents:[],loading:!1},r}return(0,o.default)(n,null,[{key:"propTypes",get:function(){return{env:d.default.string,icalURL:d.default.string,websiteId:d.default.string,pageId:d.default.string,locale:d.default.string,id:d.default.string,anchorId:d.default.string,renderMode:d.default.string,visitorMode:d.default.bool,detachedMode:d.default.bool,staticContent:d.default.object.isRequired,isManual:d.default.bool.isRequired,manualEvents:d.default.arrayOf(d.default.object).isRequired,timezone:d.default.object}}}]),(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.isManual;this._isMounted=!0,n||(R(t,_.SCROLL_TO_URL_FRAGMENT),this.getEvents())}},{key:"componentDidUpdate",value:function(e,t){if(t.loading&&!this.state.loading&&b(this.props.id,_.SCROLL_TO_URL_FRAGMENT),this.regex.test(this.props.icalURL)){var n=e.icalURL!==this.props.icalURL,r=e.isManual&&!this.props.isManual;(n||r)&&this.getEvents(this.props.icalURL)}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"fetchEvents",value:function(e){var t=this,n=this.props,r=n.env,a=n.websiteId,l=n.pageId,o=n.id,u=E.default&&E.default[r]||{},i="".concat(u.calendarDomain,"/v1/events/").concat(a,"/").concat(l,"/").concat(o);e&&(i+="?icalURL=".concat(encodeURIComponent(e)),i+="?t=".concat(Math.floor((new Date).getTime()/3e5)));var s=new XMLHttpRequest;s.open("GET",i,!0),s.send(),s.onreadystatechange=function(){4===s.readyState&&t._isMounted&&t.setState({linkedEvents:200===s.status?JSON.parse(s.responseText).events:[],loading:!1})}}},{key:"shouldGenerateEventsLocally",value:function(e){var t=this.props,n=t.detachedMode,r=t.icalURL;return!!t.staticContent.defaultEvents&&(n||e===N||!e&&r===N)}},{key:"getEvents",value:function(e){var t=this.props.staticContent;this._isMounted&&(this.setState({loading:!0}),this.shouldGenerateEventsLocally(e)?this._isMounted&&this.setState({linkedEvents:(0,m.generateDefaultEvents)(t),loading:!1}):this.fetchEvents(e))}},{key:"render",value:function(){var e=this.props,t=e.anchorId,n=e.id,r=e.visitorMode,a=e.staticContent,l=e.locale,o=e.renderMode,u=e.isManual,i=e.timezone;if(this.state.loading)return c.default.createElement(f.UX2.Component.Grid,{bottom:!1,style:{paddingVertical:"large"}},c.default.createElement(f.UX2.Component.Grid.Cell,{style:{textAlign:"center"}},c.default.createElement(f.UX2.Element.Loader,{size:"medium"})));var s=u?this.props.manualEvents:this.state.linkedEvents;return c.default.createElement(p.default,{events:s,anchorId:t,id:n,renderMode:o,visitorMode:r,staticContent:a,locale:(0,v.default)(l),isManual:u,timezone:i})}}]),n}(c.Component);t.default=C,e.exports=t.default},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(11)),o=a(n(1)),u=a(n(13)),i=a(n(2)),s=a(n(5)),d=a(n(6)),c=a(n(7)),f=a(n(8)),p=r(n(9)),E=n(3),h=a(n(21)),v=a(n(10)),m=a(n(23)),y=a(n(29));function g(e){return function(){var t,n=(0,c.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,d.default)(this,t)}}var _=E.constants.renderModes,R=E.utils.scrollHelpers.sectionScrollOnClick,b=function(e){(0,s.default)(n,e);var t=g(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={offset:0},r.showNextPage=r.showNextPage.bind((0,u.default)(r)),r.showPrevPage=r.showPrevPage.bind((0,u.default)(r)),r.scrollToSectionTop=r.scrollToSectionTop.bind((0,u.default)(r)),r}return(0,i.default)(n,null,[{key:"propTypes",get:function(){return{locale:f.default.string,events:f.default.arrayOf(f.default.object).isRequired,smallScreen:f.default.bool,anchorId:f.default.string,id:f.default.string,renderMode:f.default.string,visitorMode:f.default.bool,staticContent:f.default.object,isManual:f.default.bool.isRequired,timezone:f.default.object}}}]),(0,i.default)(n,[{key:"renderEvents",value:function(){var e=this.props,t=e.events,n=e.staticContent,r=e.locale,a=e.isManual,o=e.timezone,u=e.renderMode,i=this.state.offset,s=i+h.default.EVENTS_PER_PAGE;return t.slice(i,s).map(function(e,t){return p.default.createElement(E.UX2.Element.Block,{key:e.id},p.default.createElement(m.default,(0,l.default)({staticContent:n,locale:r,order:i+t,isManual:a,timezone:o,renderMode:u,index:t},e)))})}},{key:"scrollToSectionTop",value:function(e){var t=this.props,n=t.id,r=t.renderMode;_&&r!==_.PUBLISH||R(e,n,r)}},{key:"renderNavigation",value:function(){var e=this.props,t=e.events,n=e.staticContent,r=void 0===n?{}:n;if(t.length<=h.default.EVENTS_PER_PAGE)return null;var a=r.moreEvents,l=t.length>h.default.EVENTS_PER_PAGE&&this.state.offset+h.default.EVENTS_PER_PAGE<t.length;return p.default.createElement(E.UX2.Component.Grid,{bottom:!1,"data-aid":v.default.CALENDAR_EVENT_NAVIGATION},p.default.createElement(E.UX2.Component.Grid.Cell,{style:{marginTop:"medium"}},this.renderPrevEventsBtn(a,l),l&&this.renderNextEventsBtn(a)))}},{key:"renderNextEventsBtn",value:function(e){var t=this.props.id;return p.default.createElement(E.UX2.Element.MoreLink.Forward,{tag:"span","data-aid":v.default.CALENDAR_SHOW_NEXT_EVENTS,"data-section-jump":t,onClick:this.showNextPage,style:{userSelect:"none"},children:e})}},{key:"renderPrevEventsBtn",value:function(e,t){if(0===this.state.offset)return null;var n=this.props.id;return p.default.createElement(E.UX2.Element.MoreLink.Backward,{tag:"span","data-aid":v.default.CALENDAR_SHOW_PREV_EVENTS,"data-section-jump":n,onClick:this.showPrevPage,style:{userSelect:"none",paddingRight:t?"small":0},children:e})}},{key:"showPrevPage",value:function(e){this.scrollToSectionTop(e),this.setState({offset:this.state.offset-h.default.EVENTS_PER_PAGE})}},{key:"showNextPage",value:function(e){this.scrollToSectionTop(e),this.setState({offset:this.state.offset+h.default.EVENTS_PER_PAGE})}},{key:"renderAnchor",value:function(){if(this.props.anchorId)return p.default.createElement("a",{id:this.props.anchorId})}},{key:"render",value:function(){if(this.props.events.length>0){return p.default.createElement(E.UX2.Element.Block,null,p.default.createElement("style",null,"\n        .cal-nav-arrow {\n          opacity: .8;\n          cursor: pointer;\n        }\n        .cal-nav-arrow:hover {\n          opacity: 1;\n        }\n      "),this.renderAnchor(),p.default.createElement(E.UX2.Component.Grid,{bottom:!1},p.default.createElement(E.UX2.Component.Grid.Cell,null,p.default.createElement(E.UX2.Element.Block,{key:this.state.offset},this.renderEvents()),this.renderNavigation())))}return p.default.createElement(y.default,this.props)}}]),n}(p.Component);t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={EVENTS_PER_PAGE:5},e.exports=t.default},function(e,t){e.exports=keyMirror},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(11)),o=a(n(1)),u=a(n(2)),i=a(n(5)),s=a(n(6)),d=a(n(7)),c=a(n(8)),f=r(n(9)),p=n(3),E=a(n(10)),h=a(n(24)),v=a(n(25)),m=a(n(26)),y=r(n(27)),g=r(n(28));function _(e){return function(){var t,n=(0,d.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,d.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,s.default)(this,t)}}var R=p.Maniless.utils.getRoute,b=function(e){(0,i.default)(n,e);var t=_(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"renderEventTitle",value:function(){var e=this.props,t=e.title,n=e.isManual,r=e.order,a=n?{"data-field-id":"events.title","data-field-route":"/events/".concat(r)}:{};return f.default.createElement(p.UX2.Element.Heading.Minor,(0,l.default)({children:t},a))}},{key:"renderEventLocation",value:function(){var e=this.props,t=e.isManual,n=e.location,r=e.order,a=t?{"data-field-id":"events.location","data-field-route":"/events/".concat(r)}:{};return f.default.createElement(p.UX2.Element.Text,(0,l.default)({style:{marginTop:"small"},children:n},a))}},{key:"renderForSmallScreens",value:function(){var e=this.props,t=e.desc,n=e.isManual,r=e.order,a=e.staticContent,o=void 0===a?{}:a,u=e.renderMode,i=o.eventDetails;return f.default.createElement(p.UX2.Component.Grid,{bottom:!1,"data-aid":E.default.CALENDAR_SMALLER_SCREEN_CONTAINER,style:{marginLeft:0,marginRight:0,"@sm":{display:"none"}}},f.default.createElement(p.UX2.Component.Grid.Cell,{xs:12,style:{paddingLeft:0,marginBottom:"xxsmall"}},f.default.createElement(h.default,(0,l.default)({smallScreen:!0},this.props))),f.default.createElement(p.UX2.Component.Grid.Cell,{xs:12,style:{paddingRight:0,paddingLeft:0,marginBottom:"xxsmall"}},this.renderEventTitle(),f.default.createElement(v.default,this.props),this.renderEventLocation(),f.default.createElement(m.default,{smallScreen:!0,desc:t,eventDetails:i,isManual:n,order:r,renderMode:u})))}},{key:"renderForLargeScreens",value:function(){var e=this.props,t=e.desc,n=e.isManual,r=e.order,a=e.staticContent,l=void 0===a?{}:a,o=e.renderMode,u=l.eventDetails;return f.default.createElement(p.UX2.Component.Grid,{bottom:!1,"data-aid":E.default.CALENDAR_BIGGER_SCREEN_CONTAINER,style:{display:"none","@sm":{display:"flex"}}},f.default.createElement(p.UX2.Component.Grid.Cell,{sm:3,style:{paddingLeft:"0px !important"}},f.default.createElement(h.default,this.props)),f.default.createElement(p.UX2.Component.Grid.Cell,{sm:6,style:{textAlign:"left"}},this.renderEventTitle(),f.default.createElement(m.default,{desc:t,eventDetails:u,isManual:n,order:r,renderMode:o})),f.default.createElement(p.UX2.Component.Grid.Cell,{sm:3,style:{textAlign:"right",paddingRight:"0px !important"}},f.default.createElement(v.default,this.props),this.renderEventLocation()))}},{key:"render",value:function(){var e=this.props,t=e.isManual,n=e.index,r=t?g.EVENTS:void 0,a=t?R(y.EVENT,[n]):void 0;return f.default.createElement(p.UX2.Component.Grid,{bottom:!1,style:{display:"table",width:"100%",borderBottom:"1px solid #bfbfbf",paddingTop:0===this.props.order?"0":"xlarge",paddingBottom:"xlarge",marginLeft:"0 !important"}},f.default.createElement(p.UX2.Component.Grid.Cell,{"data-field-id":r,"data-field-route":a},this.renderForSmallScreens(),this.renderForLargeScreens()))}}],[{key:"propTypes",get:function(){return{allDay:c.default.bool,start:c.default.oneOfType([c.default.object,c.default.string]),end:c.default.oneOfType([c.default.object,c.default.string]),date:c.default.string,desc:c.default.string,title:c.default.string,location:c.default.string,staticContent:c.default.object,locale:c.default.string,order:c.default.number,isManual:c.default.bool.isRequired,timezone:c.default.shape({zone:c.default.string,offset:c.default.number}),renderMode:c.default.string,index:c.default.number.isRequired}}}]),n}(f.Component);t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(1)),o=a(n(2)),u=a(n(5)),i=a(n(6)),s=a(n(7)),d=a(n(8)),c=r(n(9)),f=a(n(14)),p=a(n(10)),E=n(3),h=a(n(16));function v(e){return function(){var t,n=(0,s.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,i.default)(this,t)}}var m=f.default.WEEKDAY,y=f.default.MONTH,g=f.default.DAY_ORDINAL,_=f.default.DAY,R=y|g,b=_|y,N=["fr-FR","en-AU","en-UK","en-HK","en-IE","en-IL","en-IN","en-MY","en-NZ","en-PK","en-SG","en-ZA"],C=function(e){(0,u.default)(n,e);var t=v(n);function n(e){var r;(0,l.default)(this,n);var a=(r=t.call(this,e)).props.locale;f.default.locale(a);var o=new f.default(r.props.start),u=new f.default(r.props.end);return r.state={start:o,end:u,sameDayEvent:o.isSame(u,"day"),sameMonthEvent:o.isSame(u,"month")},r}return(0,o.default)(n,null,[{key:"propTypes",get:function(){return{locale:d.default.string,start:d.default.string.isRequired,end:d.default.string.isRequired,smallScreen:d.default.bool,isManual:d.default.bool.isRequired,order:d.default.number.isRequired,date:d.default.string,timezone:d.default.shape({offset:d.default.number,zone:d.default.string})}}}]),(0,o.default)(n,[{key:"renderDays",value:function(){var e=this.state,t=e.start,n=e.end,r=this.props,a=r.locale,l=r.isManual,o=r.timezone;return l?null:(o?(t.set("timeZoneOffset",o.offset),n.set("timeZoneOffset",o.offset)):(t.set("timeZoneOffset",(0,h.default)(this.props.start)),n.set("timeZoneOffset",(0,h.default)(this.props.end))),t.locale(a),n.locale(a),c.default.createElement(E.UX2.Element.DisplayHeading.Sub,{tag:"div","data-aid":p.default.CALENDAR_EVENT_DAY,style:{color:"inherit"}},c.default.createElement(E.UX2.Element.Element,null,this.state.sameDayEvent?t.toLocaleString(m):"".concat(t.toLocaleString(m)," ").concat("-"," ").concat(n.toLocaleString(m)))))}},{key:"renderDate",value:function(){var e=this.state,t=e.start,n=e.end,r=e.sameDayEvent,a=e.sameMonthEvent,l=this.props,o=l.smallScreen,u=l.locale,i=l.date,s=l.isManual,d=l.order,f=N.includes(u),p=f?t.toLocaleString(b):t.toLocaleString(R),h=f?n.toLocaleString(b):n.toLocaleString(R),v=u.match(/en/)?g:_,m=f?[v,y]:[y,v],C=c.default.createElement("span",null,t.toLocaleString(m[0]),c.default.createElement("br",null),t.toLocaleString(m[1])),S=s?{"data-field-id":"events.date","data-field-route":"/events/".concat(d)}:{};return s?c.default.createElement(E.UX2.Element.Block,S,i):r?o?c.default.createElement(E.UX2.Element.Block,S,p):c.default.createElement(E.UX2.Element.Block,S,C):a?o?c.default.createElement(E.UX2.Element.Block,S,p+"-"+n.toLocaleString(g)):c.default.createElement(E.UX2.Element.Block,S,t.toLocaleString(y),c.default.createElement("br",null),t.toLocaleString(g)+"-"+n.toLocaleString(g)):c.default.createElement(E.UX2.Element.Block,S,p+"-",c.default.createElement("br",null),h)}},{key:"render",value:function(){return c.default.createElement(E.UX2.Element.DisplayHeading,null,this.renderDays(),c.default.createElement(E.UX2.Element.Block,{"data-aid":p.default.CALENDAR_EVENT_DATE,children:this.renderDate()}))}}]),n}(c.Component);t.default=C,e.exports=t.default},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(11)),o=a(n(1)),u=a(n(2)),i=a(n(5)),s=a(n(6)),d=a(n(7)),c=a(n(8)),f=r(n(9)),p=a(n(14)),E=a(n(10)),h=n(3),v=a(n(16));function m(e){return function(){var t,n=(0,d.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,d.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,s.default)(this,t)}}var y={display:"inline-block"},g=p.default.HOUR|p.default.MINUTE,_=function(e){(0,i.default)(n,e);var t=m(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"getRouteProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start",t=this.props,n=t.order;return t.isManual?{"data-field-id":"events.".concat(e),"data-field-route":"/events/".concat(n)}:{}}},{key:"renderTime",value:function(e,t,n){var r=this.props,a=r.staticContent,l=void 0===a?{}:a,o=r.isManual,u=r.order;if(n)return f.default.createElement(h.UX2.Element.Element,{style:y,"data-route":o&&"events/".concat(u)},l.allDay);var i=t?" - ":"",s=o?e:e.toLocaleString(g);return"".concat(i).concat(s)}},{key:"renderSeparator",value:function(){return this.props.isManual?f.default.createElement(h.UX2.Element.Element,{style:y}," - "):null}},{key:"renderTimes",value:function(e,t){var n=this.props.isManual;if(n){if(!e&&!t||!e&&t)return null;if(e&&!t)return f.default.createElement(h.UX2.Element.Element,(0,l.default)({style:y},this.getRouteProps("start")),this.renderTime(e,!1))}return f.default.createElement(h.UX2.Element.Block,null,f.default.createElement(h.UX2.Element.Element,(0,l.default)({style:y},this.getRouteProps("start")),this.renderTime(e,!1)),this.renderSeparator(),f.default.createElement(h.UX2.Element.Element,(0,l.default)({style:y},this.getRouteProps("end")),this.renderTime(t,!n)))}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.allDay,r=e.isManual,a=e.timezone,l=this.props.start,o=this.props.end;r||(l=new p.default(this.props.start),o=new p.default(this.props.end),a?(l.set("timeZoneOffset",a.offset),o.set("timeZoneOffset",a.offset)):(l.set("timeZoneOffset",(0,v.default)(this.props.start)),o.set("timeZoneOffset",(0,v.default)(this.props.end))),l.locale(t),o.locale(t));var u=n?this.renderTime(null,null,n):this.renderTimes(l,o);return f.default.createElement(h.UX2.Element.Heading.Minor,{"data-aid":E.default.CALENDAR_EVENT_TIME,children:u})}}],[{key:"propTypes",get:function(){return{locale:c.default.string,allDay:c.default.bool,start:c.default.oneOfType([c.default.object,c.default.string]).isRequired,end:c.default.oneOfType([c.default.object,c.default.string]).isRequired,staticContent:c.default.object,isManual:c.default.bool.isRequired,order:c.default.number.isRequired,timezone:c.default.shape({offset:c.default.number,zone:c.default.string})}}}]),n}(f.Component);t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(11)),o=a(n(1)),u=a(n(13)),i=a(n(2)),s=a(n(5)),d=a(n(6)),c=a(n(7)),f=a(n(8)),p=r(n(9)),E=n(15),h=a(n(10)),v=n(3);function m(e){return function(){var t,n=(0,c.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,d.default)(this,t)}}var y=v.constants.renderModes.EDIT,g=/https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s<]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s<]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s<]{2,}|www\.[a-zA-Z0-9]\.[^\s<]{2,}/,_=/<br><\/\s*br>|<br\s*\/>|<br>/,R=/[\r\n\u21b5]/,b=/<a[^>]*>[^<]+<\/a>/,N=new RegExp("(".concat(g.source,"|").concat(_.source,"|").concat(R.source,"|").concat(b.source,")"),"g"),C=function(e){(0,s.default)(n,e);var t=m(n);function n(e){var r;(0,o.default)(this,n),r=t.call(this,e);var a=e.isManual,l=e.renderMode;return r.descBeginning=0,r.descCount=0,r.brCount=0,r.shouldRenderExpandButton=!1,r.onButtonClick=r.onButtonClick.bind((0,u.default)(r)),r.state={expanded:a&&l===y},r}return(0,i.default)(n,null,[{key:"propTypes",get:function(){return{desc:f.default.string,smallScreen:f.default.bool,eventDetails:f.default.string,isManual:f.default.bool.isRequired,order:f.default.number.isRequired,renderMode:f.default.string}}}]),(0,i.default)(n,[{key:"renderAnchor",value:function(e,t){var n,r=this.state.expanded,a=(0,E.nth)(/>(.*?)<\/a>/.exec(e),1)||"",l=(0,E.nth)(/\shref="(.*?)"/.exec(e),1)||"",o=Object.assign({},t,{target:"_blank",href:l?(n=l,0===n.indexOf("http")?n:"http://".concat(n)):"",children:a});return this.descCount+=a.length,!r&&this.descCount>140?null:p.default.createElement(v.UX2.Element.Link,o)}},{key:"renderAnchorFromUrl",value:function(e,t){var n=this.state.expanded,r=Object.assign({},t,{href:0===e.indexOf("http")?e:"http://".concat(e),target:"_blank"});return this.descCount+=e.length,!n&&this.descCount>140?null:p.default.createElement(v.UX2.Element.Link,r)}},{key:"renderBreakpoint",value:function(){var e=this.state.expanded;return this.brCount++,this.descBeginning++,!e&&this.brCount>3?(this.descCount=141,null):p.default.createElement("br",null)}},{key:"renderDescElement",value:function(e,t){var n=e;return!this.state.expanded&&this.descCount+e.length>140&&(n=n.substring(0,140-this.descCount)),this.descCount+=e.length,p.default.createElement(v.UX2.Element.Element,t,RegExp(R).test(e)&&p.default.createElement("br",null),n)}},{key:"getDescElementProps",value:function(e,t){var n={children:e};return t===this.descBeginning&&(n["data-aid"]=h.default.CALENDAR_DESC_BEGINNING),n}},{key:"formatText",value:function(e){var t=this.props,n=t.isManual,r=t.renderMode,a=this.state.expanded;if(a&&n&&r!==y)return e;var l=e.split(N);this.descBeginning=0,this.descCount=0,this.brCount=0;var o=n?this.formatManualDesc(e):this.formatLinkedDesc(l);return this.descCount>140?(a||n||o.push(this.renderElipsis()),this.shouldRenderExpandButton=!0):this.shouldRenderExpandButton=!1,o}},{key:"formatLinkedDesc",value:function(e){var t=this;return e.map(function(e,n){if(!e)return t.descBeginning++,null;var r=t.getDescElementProps(e,n);return RegExp(b).test(e)?t.renderAnchor(e,r):RegExp(g).test(e)?t.renderAnchorFromUrl(e,r):RegExp("^".concat(_.source,"|").concat(R.source,"$")).test(e)?t.renderBreakpoint():t.renderDescElement(e,r)})}},{key:"formatManualDesc",value:function(e){for(var t=!0,n=(0,E.attempt)(function(){try{return JSON.parse(e)}catch(n){return t=!1,[{text:e,type:"unstyled"}]}},[e]),r=t?n.blocks:n,a=[],l=0;l<r.length;l++){var o=r[l],u=o.text,i=this.descCount;if(this.descCount+=u.length,this.descCount>140){o.text=u.substring(0,140-i)+"...",a.push(o);break}a.push(o)}return t?(n.blocks=a,JSON.stringify(n)):JSON.stringify({blocks:a,entityMap:{}})}},{key:"renderElipsis",value:function(){return p.default.createElement(v.UX2.Element.Element,{"data-aid":h.default.CALENDAR_DESC_ELIPSIS},"...")}},{key:"renderExpandButton",value:function(){var e=this.state.expanded;return p.default.createElement(v.UX2.Element.MoreLink.Expand,{tag:"span",expanded:e,"data-aid":h.default.CALENDAR_DESC_EXPAND,style:{marginTop:"small",userSelect:"none"},onClick:this.onButtonClick},this.props.eventDetails)}},{key:"onButtonClick",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this.props,t=e.smallScreen,n=e.desc,r=e.isManual,a=e.order,o=this.state.expanded;if(!n)return null;var u=n.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<(?!br|\/br|a|\/a\s*\/?)(?!a\s*\/?)[^>]+>/g,""),i=t&&!o,s=r?{"data-field-id":"events.desc","data-field-route":"/events/".concat(a)}:{};return p.default.createElement(v.UX2.Element.Block,{"data-aid":h.default.CALENDAR_DESC},p.default.createElement(v.UX2.Element.Text,(0,l.default)({richtext:r,"data-aid":h.default.CALENDAR_DESC_TEXT,style:{marginTop:"small"}},s),!i&&this.formatText(u)),t||this.shouldRenderExpandButton?this.renderExpandButton():null)}}]),n}(p.Component);C.defaultProps={isManual:!1};var S=C;t.default=S,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.BASE=void 0;var r=n(3).Maniless.constants.routes.BASE;t.BASE=r;t.EVENT="/events/$"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_FACEBOOK_CALENDAR=t.ENV=t.LOCALE=t.ACCOUNT_ID=t.RENDER_MODE=t.EVENTS_LOCATION=t.EVENTS_END=t.EVENTS_START=t.EVENTS_ALL_DAY=t.EVENTS_DESC=t.EVENTS_TITLE=t.EVENTS_DATE=t.EVENTS=t.TIMEZONE=t.ICAL_URL=t.CALENDAR_TYPE=t.SECTION_INTRO=t.SECTION_TITLE=void 0;t.SECTION_TITLE="sectionTitle";t.SECTION_INTRO="sectionIntro";t.CALENDAR_TYPE="calendarType";t.ICAL_URL="icalURL";t.TIMEZONE="timezone";t.EVENTS="events";var r="".concat("events",".date");t.EVENTS_DATE=r;var a="".concat("events",".title");t.EVENTS_TITLE=a;var l="".concat("events",".desc");t.EVENTS_DESC=l;var o="".concat("events",".allDay");t.EVENTS_ALL_DAY=o;var u="".concat("events",".start");t.EVENTS_START=u;var i="".concat("events",".end");t.EVENTS_END=i;var s="".concat("events",".location");t.EVENTS_LOCATION=s;t.RENDER_MODE="renderMode";t.ACCOUNT_ID="accountId";t.LOCALE="locale";t.ENV="env";t.IS_FACEBOOK_CALENDAR="isFacebookCalendar"},function(e,t,n){"use strict";var r=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(1)),o=a(n(2)),u=a(n(5)),i=a(n(6)),s=a(n(7)),d=a(n(8)),c=r(n(9)),f=n(3),p=a(n(10));function E(e){return function(){var t,n=(0,s.default)(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,i.default)(this,t)}}var h=function(e){(0,u.default)(n,e);var t=E(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.isManual,n=e.visitorMode,r=e.staticContent,a=(void 0===r?{}:r)[n||t?"editNoEvents":"publishNoEvents"];return c.default.createElement(f.UX2.Component.Grid,{bottom:!1},c.default.createElement(f.UX2.Component.Grid.Cell,null,c.default.createElement(f.UX2.Element.Heading,{tag:"h4","data-aid":p.default.CALENDAR_NO_EVENT_MSG,style:{textAlign:"center"}},a)))}}],[{key:"propTypes",get:function(){return{id:d.default.string.isRequired,locale:d.default.string,renderMode:d.default.string.isRequired,env:d.default.string.isRequired,category:d.default.string,className:d.default.string,sectionTitle:d.default.string,icalURL:d.default.string,accountId:d.default.string.isRequired,websiteId:d.default.string.isRequired,pageId:d.default.string.isRequired,anchorId:d.default.string,staticContent:d.default.object.isRequired,isManual:d.default.bool.isRequired,visitorMode:d.default.bool}}}]),n}(c.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(31)),l=r(n(32)),o=r(n(33)),u=r(n(34)),i={local:a.default,development:l.default,test:o.default,production:u.default};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={calendarDomain:"https://calendar.apps.dev-secureserver.net"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={calendarDomain:"https://calendar.apps.dev-secureserver.net"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={calendarDomain:"https://calendar.apps.test-secureserver.net"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={calendarDomain:"https://calendar.apps.secureserver.net"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="(^http(s)*|^webcal)://.+",e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={"zh-SG":"zh-CN"},a=function(e){return e?r[e]||e:"en"};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r=n(0)(n(14));function a(e,t,n){return{allDay:!1,title:e.title,start:t.toISOString(),end:n.toISOString(),desc:e.desc,location:e.location}}function l(e,t){var n=t.days,a=t.hours,l=t.minutes,o=new r.default(e.toISOString());return n&&o.set("day",o.get("day")+n),a&&o.set("hour",o.get("hour")+a),l&&o.set("minute",o.get("minute")+l),o}e.exports={generateDefaultEvents:function(e){var t=e.defaultEvents,n=(new r.default).set("hour",0).set("minute",0).set("second",0);return[a(t.one,l(n,{hours:18}),l(n,{hours:21})),a(t.two,l(n,{days:2,hours:8,minutes:30}),l(n,{days:2,hours:10,minutes:30})),a(t.three,l(n,{days:4,hours:10}),l(n,{days:4,hours:17})),a(t.four,l(n,{days:5,hours:17}),l(n,{days:5,hours:18})),a(t.one,l(n,{days:7,hours:18}),l(n,{days:7,hours:21})),a(t.two,l(n,{days:9,hours:8,minutes:30}),l(n,{days:9,hours:10,minutes:30}))]},generateEvent:a,add:l}}]);